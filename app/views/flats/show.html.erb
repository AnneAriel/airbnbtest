
<div class="position-relative">
  <div class="card-category card-large" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(<%= @flat.photo.attached? ? cl_image_path(@flat.photo.key) : asset_path('default.jpg') %>)">
    <h1><%= @flat.name %></h1>
  </div>
</div>

<div class="container mb-3">
  <div class="d-flex flex-column justify-content-between my-4">
    <div class ="link-btns justify-content-between">
    <% if @flat.user == current_user %>
      <%= link_to "Delete this flat", flat_path(@flat), class: "btn border-end", data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this list?" } %>
      <%= link_to "Modify this flat", edit_flat_path(@flat), class: 'btn border-end' %>
    <% end %>
      <%= link_to "Back to all flats", flats_path, class: 'btn border-end'%>
    </div>
  </div>


  <div class="container margin-top-negative">
    <div class="row">
      <div class="col-5">
        <div class="flat-show-card">
          <h3>A bit more about this flat...</h3>
          <p><%= @flat.description %></p>
        </div>

          <div class="flat-show-card card-title">
            <div class="d-flex justify-content-between ">
              <h3>Details</h3>
              <div class="flex card-subtitle text-muted">
              <p>Capacity: <%= @flat.number_of_guest %> people</p>
              </div>
            </div>
            <div class="flex mb-2">
            <p>Total : <%= @flat.price_per_night %>â‚¬ per night</p>
            </div>
          </div>
        </div>
      <div class="col-4">
       <div class="flat-show-card">
          <h5>Book this place!</h5>
          <%= simple_form_for [@flat, @booking] do |f| %>
              <%= f.input :start_date, placeholder: "12/12/2022" %>
              <%= f.input :end_date, placeholder: "17/12/2022" %>
              <%= f.submit 'Book this flat' %>
            <% end %>
        </div>
      </div>
      <div class="col-3">
        <div class="d-flex justify-content-center">
          <img src="<%= @flat.photo.attached? ? cl_image_path(@flat.photo.key) : asset_path('default.jpg') %>" class="img-fluid" alt="Responsive image"  >
        </div>
      </div>

    </div>
  </div>


</div>
